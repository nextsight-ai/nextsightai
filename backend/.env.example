# =============================================================================
#                         NexOps Configuration
# =============================================================================
# Copy this file to .env and update values for your environment
# For production: Ensure all REQUIRED fields are properly configured
# =============================================================================

# =============================================================================
# Application Settings
# =============================================================================
APP_NAME=NextSight AI
APP_VERSION=1.4.0
DEBUG=false
API_PREFIX=/api/v1
DEMO_MODE=false

# =============================================================================
# Security (REQUIRED for production)
# =============================================================================
# Generate a secure key: python3 -c 'import secrets; print(secrets.token_hex(32))'
# REQUIRED: Replace with a secure random key before running
SECRET_KEY=CHANGE_ME_GENERATE_WITH_COMMAND_ABOVE
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Default admin password (REQUIRED: Change this!)
# Generate a secure password: python3 -c 'import secrets; print(secrets.token_urlsafe(16))'
# WARNING: Never use 'admin123' or simple passwords in production
DEFAULT_ADMIN_PASSWORD=CHANGE_ME_GENERATE_SECURE_PASSWORD

# =============================================================================
# Database (REQUIRED)
# =============================================================================
# PostgreSQL connection URL (async driver)
# Format: postgresql+asyncpg://user:password@host:port/database
# WARNING: Change the default postgres:postgres credentials in production
DATABASE_URL=postgresql+asyncpg://nexops_user:CHANGE_ME_DB_PASSWORD@localhost:5432/nexops

# Enable database for authentication, pipelines, and OAuth users
# true  = Production mode (data persisted to PostgreSQL)
# false = Demo mode (in-memory, data lost on restart)
USE_DATABASE_AUTH=true

# =============================================================================
# Redis Cache (RECOMMENDED)
# =============================================================================
# Redis is used for:
# - Kubernetes API response caching
# - Token blacklist (for logout)
# - Session state
REDIS_URL=redis://localhost:6379/0
REDIS_ENABLED=true

# =============================================================================
# OAuth Providers (Single Sign-On)
# =============================================================================
# Enable OAuth for enterprise authentication
OAUTH_ENABLED=true
OAUTH_REDIRECT_BASE=http://localhost:3000

# Google OAuth
# Setup: https://console.developers.google.com
# Redirect URI: {OAUTH_REDIRECT_BASE}/auth/callback/google
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# GitHub OAuth
# Setup: https://github.com/settings/developers
# Redirect URI: {OAUTH_REDIRECT_BASE}/auth/callback/github
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# GitLab OAuth
# Setup: https://gitlab.com/-/profile/applications (or your GitLab instance)
# Redirect URI: {OAUTH_REDIRECT_BASE}/auth/callback/gitlab
GITLAB_CLIENT_ID=
GITLAB_CLIENT_SECRET=
GITLAB_URL=https://gitlab.com

# =============================================================================
# Kubernetes Integration (REQUIRED)
# =============================================================================
# Path to kubeconfig file (leave empty for in-cluster config)
K8S_CONFIG_PATH=~/.kube/config

# Set to true when running inside a Kubernetes cluster
K8S_IN_CLUSTER=false

# Override Kubernetes API host (for Docker Desktop use: host.docker.internal)
# K8S_HOST_OVERRIDE=host.docker.internal

# =============================================================================
# AI Provider (REQUIRED for AI features)
# =============================================================================
# Available providers: groq (recommended, free), gemini (free tier), anthropic (paid)
AI_PROVIDER=groq

# Groq (RECOMMENDED - FREE & FAST)
# Get API key: https://console.groq.com
# Free tier: 14,400 requests/day, blazing fast inference
GROQ_API_KEY=
GROQ_MODEL=llama-3.3-70b-versatile

# Google Gemini (alternative)
# Get API key: https://aistudio.google.com/apikey
GEMINI_API_KEY=
GEMINI_MODEL=gemini-2.0-flash

# Anthropic Claude (paid alternative)
# Get API key: https://console.anthropic.com
ANTHROPIC_API_KEY=
CLAUDE_MODEL=claude-sonnet-4-20250514

# =============================================================================
# Jenkins Integration (Optional)
# =============================================================================
JENKINS_URL=http://localhost:8080
JENKINS_USERNAME=
JENKINS_TOKEN=

# =============================================================================
# ArgoCD Integration (Optional)
# =============================================================================
# ARGOCD_SERVER=https://argocd.example.com
# ARGOCD_TOKEN=your-argocd-token
# ARGOCD_INSECURE=false

# =============================================================================
# CORS Settings
# =============================================================================
# Allowed origins for cross-origin requests
CORS_ORIGINS=["http://localhost:3000", "http://localhost:5173"]

# =============================================================================
# Production Checklist
# =============================================================================
# Before deploying to production, ensure:
# [ ] SECRET_KEY is set to a secure random value (64+ characters)
# [ ] DEFAULT_ADMIN_PASSWORD is changed from default
# [ ] DATABASE_URL points to production PostgreSQL
# [ ] USE_DATABASE_AUTH=true
# [ ] REDIS_ENABLED=true with production Redis URL
# [ ] DEBUG=false
# [ ] CORS_ORIGINS only includes your frontend domain
# [ ] K8S_IN_CLUSTER=true if running in Kubernetes
# [ ] AI provider API key is set
# [ ] OAuth providers configured (if using SSO)
